(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,c=f?f("InstallmentPaymentDetailPageAssets",""):e;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,e,f){function c(a){var b=a.$("select[name\x3d'quantity']").val(),c=a.$("#installmentsQuantityDropdown").val();if(b!==c){var d=1,e,f=0,c=a.$("#installmentsQuantityDropdown option");c.each(function(a,b){e=b.value;f=d=Math.max(f,e)});b>d&&(b=d);c.length?a.$("#installmentsQuantityDropdown").val(b).trigger("change"):
(a.$("[name\x3d'quantity']").val(b).trigger("change"),a.$("[name\x3d'items[0.base][quantity]']").val(b))}}d.when("A","ready").execute("installments-atc-switch-endpoint",function(a){function b(){!0===c.shouldUseNatc&&d&&a.$("#installmentPaymentAccordionRow").find("form").attr("action","/cart/add-to-cart/ref\x3ddp_start-bbf_1_glance")}var c=a.state("installments-atc-page-state");if(c!==f){var d=/\/gp\/product\/handle-buy-box\//.test(a.$("#installmentPaymentAccordionRow").find("form").attr("action"));
b();a.on("a:pageUpdate",function(){b()})}});d.when("A").execute("installment-quantity-dropdown",function(a){a.declarative("installment-quantity-dropdown","change",function(b){b=b.$event.target.value;a.$("[name\x3d'quantity']").val(b).trigger("change");a.$("[name\x3d'items[0.base][quantity]']").val(b)})});d.when("A").execute(function(a){a.on("a:accordion:installment-payment-buybox-accordion:installment-payment-accordion-row:select",function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:installmentPaymentAccordionRow:select",
function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:mobile_installmentPaymentAccordionRow:select",function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:mobileapp_installmentPaymentAccordionRow:select",function(b){c(a)})})});
/* ******** */
(function(q){var u=window.AmazonUIPageJS||window.P,r=u._namespace||u.attributeErrors,b=r?r("DetailPagePaymentOptionsJavascript",""):u;b.guardFatal?b.guardFatal(q)(b,window):b.execute(function(){q(b,window)})})(function(q,u,r){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,d){function e(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function g(c,a){m(d.metricPrefix,c,a)}function l(c,a){m(d.metricPrefixUFO,c,
a)}function m(c,a,b){if("undefined"!==typeof k&&"undefined"!==typeof k.count&&a&&c){if(b===r||null===b)b=1;c+=a;k.count(c,(k.count(c)||0)+b);"undefined"!==typeof u.csa&&(b=u.csa("Events",{producerId:"dp-rpcx"}),a=k.count(c),b("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:c,valueToLog:a},{ent:"all"}))}}function h(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");}function f(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");
}var k=u.ue;h.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&g(this.timerName,Date.now()-this.startTime)}};f.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&g(this.timerName,Date.now()-this.startTime)}};return{increment:function(c){g(c,1)},incrementWithValue:g,incrementWithValuePriceBlockMessaging:function(c,a){m(d.metricPrefixPriceblock,c,a)},logNexusEventForMonthlyPaymentSelection:function(c){if(u.ue&&
k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=parseInt(c.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("MonthlyPaymentSelection",
1)}},logNexusEventForComparePlansLink:function(c){if(u.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,
{ssd:!0});l("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(c){if(u.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;
a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;k.event(a,d.nexus.producerId,
d.nexus.schemaId,{ssd:!0});l("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(c){if(u.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=
!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(c){if(u.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;
a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(c){if(u.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=
c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!0;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansCancelPlan",1)}},Timer:h,TimerPriceBlockMessaging:f}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,d,e,g){function l(){g.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
e.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function m(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var e=b.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);
if(!e||!e.treatment)return{};var f=b.$(d.selector.activeTPlusCards).val();if(!f||!f.length)return{};f=f.split(",");return{expTreatment:e.treatment,isFirstCard:f[0]===d.featureRegistration.featureName,collapseCard:l,autoExpandCard:m}}()});"use strict";q.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.6"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,d,e,g,l,m,h,f){function k(a){return"string"===typeof a}function c(a){for(var c=a.length-1;0<=c;c--){var b=a.get(c).id;if(b!==r&&!v("#"+b).parent().parent().parent().hasClass(e.classes.hideSwatchMainViewClass)){v("#"+b).parent().parent().parent().addClass(e.classes.hideSwatchMainViewClass);break}}}function a(){var a;var c=(a=v(e.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(e.selector.isBuyingOptionOverridePresentAttribute);a=a&&c?(a=a.attr(e.selector.pickUpBuyingOptionIndex))?a:r:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function n(a){var c=a.executionInfo;c.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c}]}}var v=b.$;h=h.expTreatment;var p="T2"!==h&&"T3"!==h,w=e.featureRegistration.featureName;d.registerFeature(e.featureRegistration,
{init:function(c){b.$(a()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===e.validators.itemType&&k(a.priceAndTermCountDisplayString)&&k(a.orderSummaryDisplayString)&&k(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&k(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=f.paymentOptionSelected.paymentOptionClickedFromSideSheet;p&&!a&&(m.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,l.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(e.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(e.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,f,
m,h,k,p){h=p&&-1!==p?p:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var q;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==r&&(f=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===r&&!0===f&&(q=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var u;a&&(u=a.offerGroup);b.$("#paymentOption_"+h).removeClass("a-hidden");var y=v("#paymentOption_"+h).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");f=v("#paymentOption_"+h+" #oneTimePaymentOptionSwatch");b.$(f).click();b.delay(function(){y.isExpand||v(e.selector.subtitleText).text(y.collapseSubtitle)},100);m=f=!1;d.ccRemovedSelectionsClear(w);a===r&&q!==r&&(k=b.$("#paymentOption_"+h+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
f=k!==r,!0===f&&(v(e.selector.subtitleText).text(k.preselectionSubtitle),g.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,g.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===f&&d.ccRemovedSelectionUpdate(w,n(q)));if(u){q=v("#paymentOption_"+h+" .payment-options-financing-option");h=q.length;f=0<h;for(k=0;k<h;k++){p=q.get(k);var z=b.$(p).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
A=v("#"+p.id).parent().parent().parent(),C=A.hasClass(e.classes.hideSwatchMainViewClass);if(z&&u===z.offerGroup){m=!0;C&&(c(q),A.removeClass(e.classes.hideSwatchMainViewClass));b.$(p).click();var D=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!f||f&&!m)&&d.ccRemovedSelectionUpdate(w,n(a));l.collapsePaymentOptions(D)}}})});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,d,e){function g(c){var a=h("form#buyNowCheckout");if(0<a.length){var b=a.find("input[name\x3d"+e.parameters.itemType+"]");c=c.executionInfo;c.cartType=e.parameters.cartTypes.buyNow;c=JSON.stringify(c);1>b.length?h("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,name:e.paymentOfferInputElement.name,value:c,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=h("#bnMshopPaymentOfferInfo"),1<b.length?a.detach():a.val(c))}}function l(c){var a=c.executionInfo;a.sessionId=c.sessionId;
a.customerId=c.customerId;a.marketplaceId=c.marketplaceId;a.requestId=c.requestId;a.deviceType=c.deviceType;a.asin=c.asin;a.buyingOptionType=c.buyingOptionType;a.parentASIN=c.parentASIN;a.websiteDisplayGroup=c.websiteDisplayGroup}function m(c,a){return{itemType:e.parameters.itemType,price:c.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:c.priceAndTermCountDisplayString,interestDisplayString:c.interestDisplayString,interestAmount:c.interestAmount,orderSummaryDisplayString:c.orderSummaryDisplayString,
isOrderLevel:c.isOrderLevel,bottomSheetFootnoteDisplayString:c.bottomSheetFootnoteDisplayString,termCount:c.termCount,termType:"mo",formData:a}}var h=b.$,f=e.featureRegistration.featureName,k;return{updatePaymentOptionSelection:function(c){if(!c)return!1;d.ccSelectionsClear(f);clearTimeout(k);h("#bnMshopPaymentOfferInfo").detach();var a=[],b;if(c.hasOwnProperty("executionDetails")&&0!==Object.keys(c.executionDetails).length){var v=c.executionDetails;Object.keys(v).forEach(function(b){if("paymentOfferInfoType"===
b){var d=JSON.parse(c.executionDetails.paymentOfferInfoType);d.sessionId=c.sessionId;d.customerId=c.customerId;d.marketplaceId=c.marketplaceId;d.requestId=c.requestId;d.deviceType=c.deviceType;d.asin=c.asin;d.buyingOptionType=c.buyingOptionType;d.parentASIN=c.parentASIN;d.websiteDisplayGroup=c.websiteDisplayGroup;c.executionDetails.paymentOfferInfoType=JSON.stringify(d);a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:JSON.parse(v[b])}])}else a.push([{inputType:e.paymentOfferInputElement.inputType,
inputName:b,inputValue:v[b]}])});for(var p=0;p<a.length;p++)if(b=m(c,a[p]),b=d.ccSelectionUpdate(f,b),!b)return!1}else if(c.hasOwnProperty("executionInfo")&&0!==Object.keys(c.executionInfo).length)l(c),a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c.executionInfo}]),b=m(c,a[0]),b=d.ccSelectionUpdate(f,b);else return!0;g(c);k=setTimeout(function(){g(c)},1E3);return b}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",
function(b,d){b.declarative("select-payment-option","click",function(b){d.updatePaymentOptionSelection(b.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-plan-state","payment-options-constants","payment-options-state","payment-options-client-side-metric").register("po-compare-plans-actions",function(b,d,e,g,l,m){function h(){d.resetComparePlansState();t(g.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");t(g.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function f(a,b){a=t(a);var d=g.comparePlansSelector.viewModelFailedSelector,e=g.comparePlansSelector.preselectiedOptionSelector,f=g.comparePlansSelector.paymentOptionsCountSelector,h=g.comparePlansSelector.firsOfferIdSelector,l=c(),e=e+"-"+l,f=f+"-"+l,h=h+"-"+l;return 0!==a.filter(d+"-"+l).length?(m.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(e).length?(m.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(f).data("paymentPlansCount")!==b.numberOfPaymentOptions?
(m.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(h).data("firstOfferId")!==b.firstOfferId?(m.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function k(e){t(g.comparePlansSelector.comparePlansSidesheetSelector).html(d.getComparePlansState("ajaxContent"));var f=g.comparePlansSelector.comparePlansContentSelector+"-"+c();t(f).removeClass("aok-hidden");b.loadDescendantImagesManually(t(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(t(".payment-options-side-sheet-option-summary"));
b.loadDescendantImagesManually(t(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(t(".payment-options-comparison-sheet-comparison-card-option"));a(e)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a){var c=e.paymentOptionSelected.paymentOptionSelectedButtonId,b=e.paymentOptionSelected.paymentOptionDisabledButtonId;w(a.data.selectText);B(c,a.data.selectedText);q(b);requestAnimationFrame(function(a){n(a)})}
function n(a){var c=g.selector.setDynamicHeight;Object.keys(c).forEach(function(a){var b=c[a];Object.keys(b).forEach(function(a){a=document.querySelectorAll(b[a]);if(0!==a.length){var c=v(a);0!==c&&p(a,c)}})});a=document.querySelectorAll(".payment-option-table-head");a=v(a);var b=document.querySelectorAll(".payment-option-table-column");p(b,a)}function v(a){for(var c=0,b=0;b<a.length;b++)void 0,void u.getComputedStyle(a[b]).height,a[b].offsetHeight>c&&(c=a[b].offsetHeight);return c}function p(a,c){for(var b=
0;b<a.length;b++)a[b].style.height=c.toString()+"px"}function w(a){t(r.oneTimePaymentHeadButton).removeClass(r.selectedButton);t(r.oneTimePaymentHeadButton).addClass(r.unselectedButton);t(r.oneTimePaymentHeadButton).text(a);t(g.comparePlansSelector.comparePlansColumnSelector).removeClass(g.classes.selectedPaymentOptionBorder);t(g.comparePlansSelector.comparePlansColumnSelector).addClass(g.classes.normalPaymentOptionBorder);t(g.comparePlansSelector.comparePlansColumnSelector).removeClass(g.classes.disabledPaymentOptionClass);
t(g.comparePlansSelector.comparePlansColumnWithLearnMoreSelector).removeClass(g.classes.disabledPaymentOptionOrder);t(g.comparePlansSelector.comparePlansButtonSelector).removeClass(g.classes.selectedButtonClass);t(g.comparePlansSelector.comparePlansButtonSelector).removeClass(g.classes.auiDisabledButtonClass);t(g.comparePlansSelector.comparePlansButtonSelector).addClass(g.classes.unselectedButtonClass);t(g.comparePlansSelector.comparePlansButtonSelector).text(a)}function B(a,b){if(""!==a)if("oneTimePaymentOption"===
a)t(r.oneTimePaymentHeadButton).addClass(r.selectedButton),t(r.oneTimePaymentHeadButton).removeClass(r.unselectedButton),t(r.oneTimePaymentHeadButton).text(b);else{var c=g.comparePlansSelector.comparePlansPaymentOptionSelector+a.match(/\d+/g)[0];t(c).addClass(g.classes.selectedPaymentOptionBorder);t(c).removeClass(g.classes.normalPaymentOptionBorder);t("#"+a).addClass(g.classes.selectedButtonClass);t("#"+a).removeClass(g.classes.unselectedButtonClass);t("#"+a).text(b)}}function q(a){if(a&&""!==a){a=
a.match(/\d+/g)[0];t("#"+g.disabledPaymentOptionSelecter+a).text("("+e.paymentOptionSelected.paymentOptionUnAvailableMsg+")");var b=g.comparePlansSelector.comparePlansPaymentOptionSelector+a,c=g.comparePlansSelector.comparePlansPaymentOptionWithLearnMoreSelector+a;t(g.comparePlansSelector.comparePlansButtonIdSelector+a).addClass(g.classes.auiDisabledButtonClass);t(c).addClass(g.classes.disabledPaymentOptionOrder);t(b).addClass(g.classes.disabledPaymentOptionClass);t("[id\x3d"+g.popOverText+a+"cell]").addClass(g.classes.popOverShowClass);
t("[id\x3d"+g.popOverText+a+"cell]").removeClass(g.classes.popOverHideClass)}}var t=b.$,r=g.selector;b.on("PageRefresh:ATF",function(){d.resetComparePlansState()});return{loadAjaxContent:function(a){var c=t("#twister-plus-asin").val();if(null===c||""===c)m.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h();else if(d.getComparePlansState("isAjaxContentLoaded")&&!d.checkInconsistentState())k(a);else{var e=new m.Timer("Ajax:Loading:Time");e.start();t(g.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");
t(g.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");b.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:c,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(b){null===b||/^\s*$/.test(b)?(m.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):f(b,a.data)?h():(d.setComparePlansState("ajaxContent",b),d.setComparePlansState("isAjaxContentLoaded",!0),d.setComparePlansState("ajaxContentAsin",
c),k(a),e.stop())},error:function(a,b){b===g.ajaxErrorReasons.timeoutStatus?m.incrementWithValue("Ajax:Failure:Timeout",1):m.incrementWithValue("Ajax:Failure",1);h()}})}},renderPreselection:a}});"use strict";q.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,d){var e=[d.COMPARE_PLAN_PAYMENT_DETAILS,d.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(d){for(var l=0;l<e.length;l++){for(var m=b.$(d).find(e[l]),h,f=h=0;f<m.length;f++)m[f].offsetHeight>
h&&(h=m[f].offsetHeight);if(0<h)for(f=0;f<m.length;f++)m[f].style.height=h.toString()+"px"}}}});"use strict";q.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",
COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(b){var d=b.$,e={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},g={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return e[b]},setComparePlansState:function(b,d){e[b]=d},getLearnMoreState:function(b){return g[b]},setLearnMoreState:function(b,d){g[b]=d},checkInconsistentState:function(){if(e.isAjaxContentLoaded&&
g.isAjaxContentLoaded){if(e.ajaxContentAsin!==g.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var b=d("#twister-plus-asin").val();if(e.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent",
"");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions").register("ufo-compare-payment-plans",function(b,d,e){var g=b.$;b.declarative("compare-payment-plans","click",function(g){b.trigger("a:declarative:side-sheet:click",g);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",g):e.renderPreselection(g)});b.declarative("price-block-compare-payment-plans",
"click",function(g){b.trigger("a:declarative:open-payment-options-side-sheet:click",g);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",g):e.renderPreselection(g)});b.declarative("compare-payment-plans-ajax","click",function(b){e.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(d){var e=g(d.$currentTarget);e!==r&&null!==e&&(g("#"+d.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",
d))})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(b,d,e,g,l,m){function h(){d.resetLearnMoreState();p(e.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");p(e.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function f(a,b){a=p(a);var d=c(),f=e.learnMoreSelector.preselectiedOptionSelector+"-"+d,h=e.learnMoreSelector.paymentOptionsCountSelector+
"-"+d,g=e.learnMoreSelector.firsOfferIdSelector+"-"+d;return 0!==a.filter(e.learnMoreSelector.viewModelFailedSelector+"-"+d).length?(l.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(f).length?(l.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(h).data("paymentPlansCount")!==b.numberOfPaymentOptions?(l.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(g).data("firstOfferId")!==b.firstOfferId?(l.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",
1),!0):!1}function k(f,h,g){p(e.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));g=e.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=c();p(g).removeClass("aok-hidden");b.loadDescendantImagesManually(p(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(p(".payment-options-comparison-sheet-comparison-card-option"));
a(f,h)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,b){n(m.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function n(a,b,c){v(b);p(function(){p("[id\x3d"+a+"]").removeClass(w.unselectedButton);p("[id\x3d"+a+"]").addClass(w.selectedButton);p("[id\x3d"+a+"]").children(0).children(0).text(c);p("[id\x3d"+a+"]").text(c)})}function v(a){p(w.sideSheetButton).removeClass(w.selectedButton);p(w.sideSheetButton).addClass(w.unselectedButton);
p(w.sideSheetButton).text(a);p(w.oneTimePaymentHeadButton).removeClass(w.selectedButton);p(w.oneTimePaymentHeadButton).addClass(w.unselectedButton);p(w.oneTimePaymentHeadButton).text(a)}var p=b.$,w=e.selector;b.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(a){var c=a.data.selectText,g=a.data.selectedText,m=p("#twister-plus-asin").val();null===m||""===m?(l.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h()):d.getLearnMoreState("isAjaxContentLoaded")&&
!d.checkInconsistentState()?k(c,g,a.data.index):(p(e.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),p(e.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),b.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:m,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(b){null===b||/^\s*$/.test(b)?(l.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):f(b,a.data)?h():(d.setLearnMoreState("ajaxContent",
b),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",m),k(c,g,a.data.index))},error:function(a,b){b===e.ajaxErrorReasons.timeoutStatus?l.incrementWithValue("Ajax:Failure:Timeout",1):l.incrementWithValue("Ajax:Failure",1);h()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric",
"payment-options-constants").register("payment-options-learn-more-events",function(b,d,e,g,l){b.declarative("payment-options-learn-more","click",function(m){g.increment("SideSheet:Link:Click");e.stopEventPropagation(m);b.trigger("a:declarative:side-sheet:click",m);!m.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",m):e.preRenderSelectedFinancingOption(m.data.selectText,m.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more",
"click",function(b){g.incrementWithValue(l.metricConstants.skipLearnMoreMetricForDesktop,1);u.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax","click",function(b){e.loadAjaxContent(b)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,d,e,g,l){function m(b){if(a===r||null===a||null===b.data.isExpand||b.data.isExpand===r){if(null===
b.data.isExpand||b.data.isExpand===r)f("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;d.initSubtitle(b);n&&d.hideLoaderAnimation(b.data.isExpand)}}function h(b){a=!0;var c=b.data.renderPreselection;e.autoScroll=!b.data.isAutoExpand;c||n?d.expandPaymentOptions(n,c):(v.isStarted||v.start(),d.expandSkeletonLoader(c));g.logNexusEventForSwatchExpansion(b)}var f=b.$,k=l.expTreatment,c=l.isFirstCard&&"T1"===k||"T2"===k||"T3"===k,a,n=e.isLoaded,
v=new g.Timer("Desktop:Expander:Loading:UserWaiting:Time"),p=new g.Timer("Desktop:Expander:Loading:Time");p.start();q.when("cc-payment-options").execute(function(){p.stop();v.isStarted&&v.stop();n=!0;d.hideLoaderAnimation(a);g.incrementWithValue("Container:Swatch:Amount",f(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(c){if("keydown"!==c.type||13===c.$event.keyCode||32===c.$event.keyCode){m(c);a=c.data.isExpand;var e=c.data.renderPreselection;
!0===a?(a=!1,g.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(e)):!1===a&&h(c);f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=a});b.trigger("a:declarative:expander-update-visible-payment-options:click",c)}});b.declarative("expand-payment-options-expander",function(a){if(!k||a.data.forceExpand)m(a),h(a),f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=
!0})});c&&l.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(b,d,e,g,l,m){function h(){if(d.autoScroll){var b=a(n.expanderContainer),c=b.offset().top+b.outerHeight();if(a(u).scrollTop()+a(u).height()<c){var c=b.offset().top,e=a(u).height(),b=b.height(),b=c-(e-b)/2;a("html, body").animate({scrollTop:b},d.animationTimeoutUnit)}}}
function f(b,c){b=b?p.monthlyPaymentOptionsExpandedSubtitle:c?p.monthlyPaymentOptionsExpandedSubtitle:p.loadingSubtitle;a(n.subtitleText).text(b);!1===c&&a(n.cardImage).fadeOut(e.animationTimeoutUnit)}function k(b){""!==p.monthlyPaymentOptionsCollapsedSubtitle&&a(n.subtitleText).text(p.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(n.cardImage).fadeIn(e.animationTimeoutUnit)}function c(b,c){a(b)&&a(b).attr(v.ariaExpanded,c)}var a=b.$,n=e.selector,v=e.attributes,p=d.expanderSubtitle;return{initSubtitle:function(a){var b=
a.data.expandSubtitle;p.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;p.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(d,l){g.increment("Desktop:Expander:Click:Expand");g.increment("Desktop:Expander:Click:Expand:loading");a(n.expanderContent).addClass(n.paymentOptionExpand);a(n.expanderIcon).addClass("rotate");m.cardExpanded(e.featureRegistration.featureName);b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);f(d,l);h()},e.animationTimeoutUnit);b.$(n.refreshToggle).hasClass("refresh-toggle")||
b.$(n.refreshCCText).removeClass("a-hidden");c(n.toggleExpanderButton,!0)},expandSkeletonLoader:function(d){g.increment("Desktop:Expander:Click:Expand");a(n.expanderContent).addClass(n.skeletonLoaderExpand);a(n.expanderIcon).addClass("rotate");b.delay(function(){d||(a(n.skeletonLoader).addClass(n.twisterPlusFadeIn),f(!1,d),h())},e.animationTimeoutUnit);c(n.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);b.delay(function(){a(n.skeletonLoader).hide();
a(n.swatch).removeClass("invisible");c&&(a(n.subtitleText).text(p.monthlyPaymentOptionsExpandedSubtitle),a(n.expanderContent).addClass(n.paymentOptionExpand),b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);f(!0,d);h()},e.animationTimeoutUnit))},e.animationTimeoutUnit)},collapsePaymentOptions:function(f){a(n.swatch).removeClass(n.twisterPlusFadeIn);d.isLoaded||f||a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);a(n.expanderIcon).removeClass("rotate");b.delay(function(){a(n.expanderContent).removeClass(n.paymentOptionExpand);
a(n.expanderContent).removeClass(n.skeletonLoaderExpand);k(f)},e.animationTimeoutUnit);c(n.toggleExpanderButton,!1);b.$(n.refreshCCText).hasClass("a-hidden")||b.$(n.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:k,showSubtitleInExpandedView:f,scrollToShowCompleteExpander:h}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,d,e,
g,l){var m=!1,h=function(){var f=document.getElementById("payment-options-expander-header"),h=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(f){if(f=h)f=g.getRenderedFeaturesList(),h=f[0]===l.featureRegistration.featureName,f=1===f.length&&h;f&&(f=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),f.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:f}),e.increment("Expander:AutoExpanded"),
m=!0)}};h();b.on("a:pageUpdate",h);return{isAutoExpanded:m}});"use strict";q.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,
d,e,g){var l=b.$,m=!g.expTreatment||"T3"===g.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(h){if("keydown"!==h.type||13===h.$event.keyCode||32===h.$event.keyCode){e.increment("Swatch:OneTimePayment:Click");b.trigger("a:declarative:select-payment-option:click",{data:{}});var f=l(h.$currentTarget);f!==r&&null!==f&&(d.updateDefaultOptionSubtitle(h.data.defaultPOSubtitle,h.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",h),m||g.collapseCard())}});
b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(d){if("keydown"!==d.type||13===d.$event.keyCode||32===d.$event.keyCode){var f=l(d.$currentTarget);f!==r&&null!==f&&(b.trigger("a:declarative:monthly-payment-option-selection:click",d),m||g.collapseCard(),e.logNexusEventForMonthlyPaymentSelection(d))}});b.declarative("payment-options-overflow","click",function(b){d.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var e=
l(b.$currentTarget);e!==r&&null!==e&&d.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?d.updateSwatchStyle(b.data.selectedPaymentOptionId):(d.updateSwatchStyle(b.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){d.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){d.enableSwatch(b.$currentTarget)})});
"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,d,e,g){function l(b){f(k.swatchOption).removeClass(k.selectedOption);var c=f(k.swatchActionButton);c&&c.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?f(k.oneTimePaymentOption):f("#"+b+"Swatch");b.addClass(k.selectedOption);(b=b.closest(k.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function m(a){a.addClass(c.hideSwatchMainViewClass)}
function h(a,b){a.removeClass(c.hideSwatchMainViewClass);l(b);g.paymentOptionSelected.paymentOptionSelectedButtonId=b;g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var f=b.$,k=e.selector,c=e.classes,a=e.attributes,n=d.expanderSubtitle;return{updateSwatchStyle:l,updateDefaultOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=b;f(k.subtitleText).text(b);f(k.subtitle).removeClass("a-color-success");f(k.subtitle).addClass("a-color-tertiary");
f(k.checkmark).addClass("a-hidden");f(k.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=a;f(k.subtitleText).text(a);f(k.subtitle).removeClass("a-color-tertiary");f(k.subtitle).addClass("a-color-success");f(k.checkmark).removeClass("a-hidden");f(k.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(k.financingOptions);b.removeClass(k.selectedOption);b.addClass(k.unavailableOption);a.addClass(k.disabledSwatch)},enableSwatch:function(a){a.find(k.financingOptions).removeClass(k.unavailableOption);a.removeClass(k.disabledSwatch)},manageOverflow:function(a){g.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=f("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(c.hideSwatchMainViewClass)){for(var d=f(c.paymentOptionsList)[0].children,
e="",k=d.length-2;0<=k;k--)if(!f(d[k]).hasClass(c.hideSwatchMainViewClass)){e=f(d[k]);break}m(e);h(b,a.data.paymentOptionSelectButtonId)}else l(a.data.paymentOptionSelectButtonId),g.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,g.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:m,unhideCorrespondingSwatch:h,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=f(c.paymentOptionsList)[0].children;
a="";for(var d=b.length-2;0<=d;d--)if(!f(b[d]).hasClass(c.hideSwatchMainViewClass)){a=f(b[d]);break}b=f(f(f(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(k.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(m(a),f("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(c.hideSwatchMainViewClass))}}}});"use strict";q.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";q.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,d,e,g){var l=b.$;b.declarative("otp-selection","click",function(e){var h=l(e.$currentTarget[0].parentNode);e=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===h[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(g.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=e;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});b.declarative("monthly-payment-option-selection","click",function(e){e.data.hasOwnProperty("optionId")&&""!==e.data.optionId&&g.increment("Swatch:Financing:"+
e.data.optionId+":Click");g.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",e);var h=l(e.$currentTarget);if(h!==r&&null!==h){var h=e.data.posubtitle,f=e.data.cardImageUrl,k=l(e.$currentTarget[0].parentNode),c=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===k[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(e.data.hasOwnProperty("optionId")&&""!==e.data.optionId?g.increment("SideSheet:Financing:"+e.data.optionId+
":Click"):g.increment("SideSheet:Financing:"+e.data.executionInfo.offerType+":"+e.data.termType+":"+e.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:h,cardImageUrl:f}});b.trigger("a:declarative:payment-options-overflow:click",e)}});b.declarative("compare-payment-plans-disable",
"click",function(b){d.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var g=b.match(/\d+/g)[0],g="#"+e.disabledPaymentOptionSelecter+g;d.paymentOptionSelected.paymentOptionDisabledButtonId=b;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=l(g).text()});b.declarative("compare-payment-plans-enable","click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId=
"",l("#"+e.disabledPaymentOptionSelecter+b).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",l("[id\x3d"+e.popOverText+b+"cell]").removeClass(e.classes.popOverShowClass),l("[id\x3d"+e.popOverText+b+"cell]").addClass(e.classes.popOverHideClass))})});"use strict";q.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(b,d,e){b.declarative("payment-options-emp-action","change",function(b){d.updatePaymentOptionSelection(b.data)});
var g=b.debounce(function(){var d=b.$,g=d("#PaymentOptionsEmpAction");0<g.length&&g.trigger("change");0<d("#monthly-payments-not-applicable").length&&e.increment("Container:Render:Error");0<d(".payment-options-container").length&&e.increment("Container:Render:Success")},100);g();b.on("PageRefresh:ATF",g)});"use strict";q.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,d,e,g){var l=b.$;d=new d.Timer("Expander:Loading:Images:Time");
d.start();e=function(){b.loadDescendantImagesManually(l(".payment-options-financing-option-card-image"));b.loadDescendantImagesManually(l(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(l(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-comparison-group-container"));
b.loadDescendantImagesManually(l(".payment-options-comparison-sheet-comparison-card-option"))};e();b.on("a:pageUpdate",e);d.stop()});"use strict";q.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,d,e,g,l){function m(a){var b=a.executionInfo;b.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,
interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var h=b.$,f=e.selector,k=e.featureRegistration.featureName,
c;b.on("a:dropdown:selected:quantity",function(a){var n=h("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,q=h("#paymentOption_"+n+" .payment-options-list-item"),n=h("#paymentOption_"+n+" #oneTimePaymentOptionSwatch");a=a.value;for(var p=b.$(e.classSelector+f.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(f.monthlyPaymentAction),r=1;r<q.length;r++){var u=q.eq(r).find("span.a-declarative").data(f.monthlyPaymentAction),x=u.maxQuantity;
x&&(a>x?(d.disableSwatch(q.eq(r)),x={data:{paymentOptionUnAvailableMsg:u.unAvailableText,numberOfPaymentOptions:u.numberOfPaymentOptions,disabledPaymentOptionId:u.paymentOptionSelectButtonId}},g.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",x):d.disableOptionInCompareAllPlans(x),p&&u.offerGroup===p.offerGroup&&(h(n).click(),l.ccRemovedSelectionUpdate(k,m(u)),c=u.offerGroup)):(d.enableSwatch(q.eq(r)),g.getWeblabData().isComparePlansRefactorWeblabInT1?
b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:u.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(u.numberOfPaymentOptions),c&&u.offerGroup===c&&(h(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:q.eq(r).find("span.a-declarative"),data:u}),l.ccRemovedSelectionsClear(k))))}})});"use strict";q.when("A","payment-options-constants").register("payment-options-state",
function(b,d){function e(){if(!l||0===Object.keys(l).length){var b=g(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);b&&(l=JSON.parse(b))}return l}var g=b.$,l={};b={getWeblabData:e};e();return b});"use strict";q.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";q.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants",
"payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,d,e,g,l){var m={};b.declarative("open-priceblock-change-plan-modal","click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var e="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(m,e)||(m[e]=d.create(b.$target,{header:b.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));m[e].show()});b.declarative("priceblock-change-plan-modal-cancel-button",
"click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");m["priceblock-change-plan-modal-"+b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",function(h){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");h=e.paymentOptionOptOutSelected.changePlanEventData;for(var f=Object.keys(m),k=0;k<f.length;++k){var c=f[k];d.remove(c);delete m[c]}e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=
!0;f=b.copy(h);f.data.paymentOptionSelectButtonId=g.ONE_TIME_PAYMENT_OPTION_ID;b.trigger("a:declarative:price-block-otp-action:click",f);h=b.copy(h);b.trigger("a:declarative:price-block-compare-payment-plans:click",h)})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,d,e){b.declarative("acquisition-offer-see-details","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,
1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;u.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",1)}});b.declarative("acquisition-offer-learn-more","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;u.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",
1)}})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",function(b,d,e,g){function l(b){h(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function m(b){h(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var h=b.$,f=d.selector,k=d.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=f.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,
a=h(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b+"01",l(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=h(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);b||(b=f.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,l(b));return b},getOptionNotSelectedString:function(){return h(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:l,updateCheckboxPriceblockOptionNotSelectedString:m,updateCheckboxWithTopOffer:function(b){b=
b.find(f.COMPARE_PLAN_LINK).find(f.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;b=g.getTopEnabledOfferDataInComparisonTable(b);l(d.ID_PREFIX+b.paymentOptionSelectButtonId);m(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){h(c).click();
h(a).click()})},triggerCheckboxUnCheckedActions:function(b){h(b).click()},hasCheckboxPriceblock:function(){return h(f.CHECKBOX_PRICE_BLOCK).length}}})});
/* ******** */
