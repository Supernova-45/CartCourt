<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌱 Sustainable Wishlist Analyzer - Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .header h1 {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
        }
        
        .import-section {
            text-align: center;
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .import-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
        }
        
        .import-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(76, 175, 80, 0.4);
        }
        
        .import-note {
            margin-top: 1rem;
            color: #666;
            font-style: italic;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .summary-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-5px);
        }
        
        .summary-card h3 {
            color: #555;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .metric {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .number {
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .emissions .number { color: #ff6b6b; }
        .cost .number { color: #4ecdc4; }
        .items .number { color: #45b7d1; }
        .potential-savings .number { color: #96ceb4; }
        
        .unit {
            font-size: 1rem;
            color: #888;
        }
        
        .wishlist-container {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .wishlist-container h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #333;
            font-size: 2rem;
        }
        
        .wishlist-item {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 2rem;
            border-left: 5px solid #4CAF50;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }
        
        .wishlist-item:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .item-info h3 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
            line-height: 1.4;
        }
        
        .item-brand {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }
        
        .item-category {
            color: #888;
            font-size: 0.8rem;
            background: #e0e0e0;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            display: inline-block;
        }
        
        .item-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2196F3;
        }
        
        .environmental-section {
            background: #fff;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
            margin-bottom: 1rem;
        }
        
        .environmental-section h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .environmental-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .env-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: #f5f5f5;
            border-radius: 8px;
        }
        
        .env-label {
            font-weight: 500;
            color: #555;
        }
        
        .env-value {
            font-weight: bold;
            color: #333;
        }
        
        .alternatives-section {
            background: #fff;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
            margin-bottom: 1rem;
        }
        
        .alternatives-section h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .alternative-info {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
        }
        
        .alternative-info h5 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .alternative-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 0.5rem;
        }
        
        .carbon-reduction {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 0.5rem;
            border-radius: 8px;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        
        .benefits ul {
            list-style: none;
            padding: 0;
        }
        
        .benefits li {
            padding: 0.3rem 0;
            color: #555;
        }
        
        .benefits li:before {
            content: "✓ ";
            color: #4CAF50;
            font-weight: bold;
        }
        
        .swap-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .swap-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .needs-assessment {
            background: #fff;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #FF9800;
        }
        
        .needs-assessment h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .score-badge {
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-weight: bold;
            margin-left: 0.5rem;
            background: #4CAF50;
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .action-btn {
            padding: 0.8rem 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            text-align: center;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
        }
        
        .action-btn.wait {
            border-color: #2196F3;
            color: #2196F3;
        }
        
        .action-btn.swap {
            border-color: #4CAF50;
            color: #4CAF50;
        }
        
        .action-btn.donate {
            border-color: #9C27B0;
            color: #9C27B0;
        }
        
        .footer {
            text-align: center;
            padding: 2rem 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            margin-top: 2rem;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            .header h1 { font-size: 2rem; }
            .summary-cards { grid-template-columns: 1fr; }
            .environmental-grid { grid-template-columns: 1fr; }
            .action-buttons { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Sample wishlist data (simplified for demo)
        const wishlistItems = [
            {
                id: 1,
                name: "Gemmy 39121-32 Airblown Movie Screen Inflatable with Storage Bag",
                brand: "Gemmy",
                price: 109.80,
                category: "Lawn & Patio",
                environmental: {
                    carbonFootprint: 45.2,
                    microplastics: "High",
                    energyUsage: "Medium (inflator motor)",
                    waterUsage: 15,
                    recyclability: "Low",
                    packaging: "Excessive plastic packaging"
                },
                alternatives: [{
                    name: "DIY Projector Screen with Organic Cotton Sheet",
                    price: 25.00,
                    carbonReduction: 38.1,
                    benefits: ["Biodegradable", "Reusable", "Minimal packaging"]
                }],
                needsAssessment: {
                    frequency: "2-3 times per year",
                    sustainabilityScore: 3
                }
            },
            {
                id: 2,
                name: "Hongdian M2 Black Forest Mini Fountain Pen",
                brand: "Hong Dian",
                price: 19.98,
                category: "Office Product",
                environmental: {
                    carbonFootprint: 8.5,
                    microplastics: "Low",
                    energyUsage: "None (reusable)",
                    waterUsage: 5,
                    recyclability: "High (aluminum)",
                    packaging: "Minimal"
                },
                alternatives: [{
                    name: "Refurbished/Vintage Fountain Pen",
                    price: 15.00,
                    carbonReduction: 6.8,
                    benefits: ["Extends product life", "Unique character", "Often better quality"]
                }],
                needsAssessment: {
                    frequency: "Daily use",
                    sustainabilityScore: 8
                }
            }
        ];

        const Header = () => (
            <header className="header">
                <div className="container">
                    <h1>🌱 Sustainable Wishlist Analyzer</h1>
                    <p className="subtitle">Make eco-conscious purchasing decisions</p>
                </div>
            </header>
        );

        const ImportSection = ({ onImport }) => (
            <section className="import-section">
                <button className="import-btn" onClick={onImport}>
                    📋 Import Wishlist
                </button>
                <p className="import-note">Click to analyze your Amazon wishlist for environmental impact</p>
            </section>
        );

        const SummaryDashboard = ({ totalCost, totalEmissions, itemCount, potentialSavings }) => (
            <div className="summary-cards">
                <div className="summary-card emissions">
                    <h3>Total Carbon Footprint</h3>
                    <div className="metric">
                        <span className="number">{totalEmissions.toFixed(1)}</span>
                        <span className="unit">kg CO₂</span>
                    </div>
                </div>
                <div className="summary-card cost">
                    <h3>Total Cost</h3>
                    <div className="metric">
                        <span className="number">${totalCost.toFixed(2)}</span>
                    </div>
                </div>
                <div className="summary-card items">
                    <h3>Items Analyzed</h3>
                    <div className="metric">
                        <span className="number">{itemCount}</span>
                        <span className="unit">items</span>
                    </div>
                </div>
                <div className="summary-card potential-savings">
                    <h3>Potential CO₂ Savings</h3>
                    <div className="metric">
                        <span className="number">{potentialSavings.toFixed(1)}</span>
                        <span className="unit">kg CO₂</span>
                    </div>
                </div>
            </div>
        );

        const WishlistItem = ({ item, onAction }) => {
            const [showChallenge, setShowChallenge] = useState(false);

            const getSustainabilityColor = (score) => {
                if (score >= 7) return '#4CAF50';
                if (score >= 4) return '#FF9800';
                return '#F44336';
            };

            return (
                <div className="wishlist-item">
                    <div className="item-header">
                        <div className="item-info">
                            <h3>{item.name}</h3>
                            <p className="item-brand">by {item.brand}</p>
                            <p className="item-category">{item.category}</p>
                        </div>
                        <div className="item-price">${item.price}</div>
                    </div>

                    <div className="environmental-section">
                        <h4>🌍 Environmental Impact</h4>
                        <div className="environmental-grid">
                            <div className="env-item">
                                <span className="env-label">Carbon Footprint:</span>
                                <span className="env-value">{item.environmental.carbonFootprint} kg CO₂</span>
                            </div>
                            <div className="env-item">
                                <span className="env-label">Microplastics:</span>
                                <span className="env-value">{item.environmental.microplastics}</span>
                            </div>
                            <div className="env-item">
                                <span className="env-label">Energy Usage:</span>
                                <span className="env-value">{item.environmental.energyUsage}</span>
                            </div>
                            <div className="env-item">
                                <span className="env-label">Water Usage:</span>
                                <span className="env-value">{item.environmental.waterUsage}L</span>
                            </div>
                            <div className="env-item">
                                <span className="env-label">Recyclability:</span>
                                <span className="env-value">{item.environmental.recyclability}</span>
                            </div>
                            <div className="env-item">
                                <span className="env-label">Packaging:</span>
                                <span className="env-value">{item.environmental.packaging}</span>
                            </div>
                        </div>
                    </div>

                    <div className="alternatives-section">
                        <h4>♻️ Greener Alternatives</h4>
                        <div className="alternative-info">
                            <h5>{item.alternatives[0].name}</h5>
                            <div className="alternative-price">
                                ${item.alternatives[0].price.toFixed(2)}
                            </div>
                            <div className="carbon-reduction">
                                🌱 Saves {item.alternatives[0].carbonReduction.toFixed(1)} kg CO₂
                            </div>
                            <div className="benefits">
                                <strong>Benefits:</strong>
                                <ul>
                                    {item.alternatives[0].benefits.map((benefit, idx) => (
                                        <li key={idx}>{benefit}</li>
                                    ))}
                                </ul>
                            </div>
                            <button className="swap-btn" onClick={() => onAction(item.id, 'swap')}>
                                🔄 Swap to This Alternative
                            </button>
                        </div>
                    </div>

                    <div className="needs-assessment">
                        <h4>🤔 Do You Really Need This?</h4>
                        <div>
                            <strong>Expected Usage:</strong> {item.needsAssessment.frequency}
                        </div>
                        <div>
                            <strong>Sustainability Score:</strong>
                            <span 
                                className="score-badge"
                                style={{ backgroundColor: getSustainabilityColor(item.needsAssessment.sustainabilityScore) }}
                            >
                                {item.needsAssessment.sustainabilityScore}/10
                            </span>
                        </div>
                        
                        <button 
                            className="swap-btn"
                            onClick={() => setShowChallenge(!showChallenge)}
                            style={{ marginTop: '1rem' }}
                        >
                            💭 Challenge This Purchase
                        </button>
                        
                        {showChallenge && (
                            <div style={{ marginTop: '1rem', padding: '1rem', background: '#fff3e0', borderRadius: '10px' }}>
                                <h5>Choose Your Action:</h5>
                                <div className="action-buttons">
                                    <button className="action-btn wait" onClick={() => onAction(item.id, 'wait')}>
                                        ⏰ Wait 30 Days
                                    </button>
                                    <button className="action-btn swap" onClick={() => onAction(item.id, 'swap')}>
                                        🔄 Swap Alternative
                                    </button>
                                    <button className="action-btn donate" onClick={() => onAction(item.id, 'donate')}>
                                        💝 Donate Instead
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [isImported, setIsImported] = useState(false);
            const [items, setItems] = useState([]);
            const [actionCounts, setActionCounts] = useState({ waited: 0, swapped: 0, donated: 0 });

            const handleImport = () => {
                setIsImported(true);
                const itemsWithActions = wishlistItems.map(item => ({
                    ...item,
                    action: null
                }));
                setItems(itemsWithActions);
            };

            const handleItemAction = (itemId, action) => {
                setItems(prevItems => 
                    prevItems.map(item => 
                        item.id === itemId 
                            ? { ...item, action: action }
                            : item
                    )
                );
            };

            useEffect(() => {
                const counts = items.reduce((acc, item) => {
                    if (item.action === 'wait') acc.waited++;
                    else if (item.action === 'swap') acc.swapped++;
                    else if (item.action === 'donate') acc.donated++;
                    return acc;
                }, { waited: 0, swapped: 0, donated: 0 });
                
                setActionCounts(counts);
            }, [items]);

            const totalCost = items.reduce((sum, item) => sum + item.price, 0);
            const totalEmissions = items.reduce((sum, item) => sum + item.environmental.carbonFootprint, 0);
            const potentialSavings = items.reduce((sum, item) => {
                if (item.action === 'swap' && item.alternatives[0]) {
                    return sum + item.alternatives[0].carbonReduction;
                }
                if (item.action === 'wait' || item.action === 'donate') {
                    return sum + item.environmental.carbonFootprint;
                }
                return sum;
            }, 0);

            return (
                <div>
                    <Header />
                    
                    <main className="container">
                        {!isImported ? (
                            <ImportSection onImport={handleImport} />
                        ) : (
                            <>
                                <SummaryDashboard 
                                    totalCost={totalCost}
                                    totalEmissions={totalEmissions}
                                    itemCount={items.length}
                                    potentialSavings={potentialSavings}
                                />
                                
                                <div className="wishlist-container">
                                    <h2>Your Wishlist Analysis</h2>
                                    {items.map(item => (
                                        <WishlistItem
                                            key={item.id}
                                            item={item}
                                            onAction={handleItemAction}
                                        />
                                    ))}
                                </div>

                                {(actionCounts.waited + actionCounts.swapped + actionCounts.donated) > 0 && (
                                    <div className="wishlist-container">
                                        <h3>🎯 Your Sustainability Actions</h3>
                                        <div className="summary-cards">
                                            <div className="summary-card">
                                                <h3>Items Waiting</h3>
                                                <div className="metric">
                                                    <span className="number">{actionCounts.waited}</span>
                                                </div>
                                            </div>
                                            <div className="summary-card">
                                                <h3>Items Swapped</h3>
                                                <div className="metric">
                                                    <span className="number">{actionCounts.swapped}</span>
                                                </div>
                                            </div>
                                            <div className="summary-card">
                                                <h3>Items to Donate</h3>
                                                <div className="metric">
                                                    <span className="number">{actionCounts.donated}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </>
                        )}
                    </main>

                    <footer className="footer">
                        <div className="container">
                            <p>&copy; 2025 Sustainable Wishlist Analyzer. Making purchasing decisions that matter. 🌍</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
