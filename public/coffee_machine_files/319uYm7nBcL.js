'use strict';mix_d("FirebirdSpCards__sp-rhf-desktop-carousel:sp-rhf-desktop-carousel__ZBKuINpW","exports tslib @c/aui-carousel @c/dom @c/remote-operations @c/scoped-dom @p/A @p/a-carousel-framework @c/metrics @c/aui-utils @c/browser-operations @c/aui-modal @c/aui-untrusted-ajax".split(" "),function(I,r,O,J,P,Q,R,S,v,T,U,V,W){function y(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}var X=y(O),z=y(J),Y=y(P),A=y(Q),w=y(R),Z=y(S),K=y(U),aa=y(V),ba=y(W),L={},F=function(b,a,e){void 0===
a&&(a="");void 0===e&&(e=1);a=b+a;L.hasOwnProperty(a)||(L[a]=!0,v.count(b,(v.count(b)||0)+e))},ca=function(b){F(w["default"].capabilities.mobile?"Card:EERU:SharedLib:mobile:render":"Card:EERU:SharedLib:desktop:render");var a=function(c,d){c={$event:{preventDefault:w["default"].$.noop,stopPropagation:w["default"].$.noop},$target:c.getContent().find('[data-a-tab-name="'+d+'"]'),data:{name:"energyEfficiencyTabSet"}};w["default"].trigger("a:declarative:a-tabs:click",c)},e=function(c,d){var f=c&&c.$event,
g=c&&c.data||{},k=g.activeTabName,n=g.modalHeight,t=g.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();f=d.get(t);f||(w["default"].on("a:popover:beforeShow:"+t,function(p){p.popover&&p.popover.getContent&&(p=p.popover.getContent(),p.find(".a-manually-loaded").parent().css("min-height",n),w["default"].loadDescendantImagesManually(p))}),f=d.create(c.$target,g));f.show();a(f,k)};b.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(c){w["default"].declarative("card-energy-efficiency-secondary-view",
"click",function(d){F("Card:EERU:SharedLib:mobile:click",d&&d.data&&d.data.name||"");e(d,c)})});b.when("a-modal").execute("RegisterEnergyEfficiencyEventDesktop",function(c){w["default"].declarative("card-energy-efficiency-modal","click",function(d){F("Card:EERU:SharedLib:desktop:click",d&&d.data&&d.data.name||"");e(d,c)})})},da=function(b){b.when("ready").execute("EEBadgeProductFicheResize",function(a){var e=w["default"].$;e(".energyEfficiencyContainer").each(function(c,d){c=e(d).find(".energyEfficiencyProductFicheLabel").first();
d=e(d).find("svg").first();c.parent().outerHeight()>d.outerHeight()&&(c.removeClass("a-size-small"),c.addClass("a-size-micro"),c.parent().outerHeight()>d.outerHeight()&&c.parent().css("line-height","10px"))})})},ea=function(){var b=window.P;ca(b);da(b)},B=function(b,a){return b.querySelector("[class*="+a+"]")},fa=function(b,a,e){b=JSON.parse(b);b.adCreativeMetaData=a.adCreativeMetaData;b.feedbackFormContainerId=e;return encodeURI(JSON.stringify(b))},ha=function(b,a,e,c,d){return r.__awaiter(void 0,
void 0,void 0,function(){var f,g,k,n,t,p,q;return r.__generator(this,function(h){f="adFeedbackModal_"+b;h=(null===(q=B(a,"ad-feedback-modal-container"))||void 0===q?void 0:q.className)||"";g="."+a.className+" ."+h.replace(" ",".");n=(k=e().adCreativeMetaData.adCreativeDetails)?k.length:0;t={a11yOpenMessage:d?d:"",width:Math.max(560,132*n+160),a11yCloseButtonMessage:c};try{return p=aa["default"].create(f,g,t),[2,p]}catch(u){throw v.count("adfeedback:cards:clientDesktop:modalCreation:failure",1),Error("Modal Creation Failed : "+
u);}})})},ka=function(b,a,e,c,d,f){var g="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var k=B(z["default"].cardRoot,g);b.on("beforeShow",function(){return r.__awaiter(void 0,void 0,void 0,function(){var n;return r.__generator(this,function(t){switch(t.label){case 0:return n=ia(b,a,e),[4,b.render(function(p){var q="250px",h=e().adCreativeMetaData.adCreativeDetails;h&&2>h.length&&(q="150px");k.style.marginTop=q;p.innerHTML="";
q=p.appendChild;h=document.getElementsByTagName("html")[0].dir;var u=z["default"].createElement("div"),m=z["default"].createElement("div");u.innerHTML=d;"rtl"===h?(u.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
m.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(u.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),m.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
m.appendChild(u);q.call(p,m);q=document.getElementsByTagName("html")[0].dir;h=z["default"].createElement("div");"rtl"===q?h.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):h.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");ja(k,h,c,n,f);p.appendChild(h)})];case 1:return t.sent(),[2]}})})})},ia=function(b,a,e){e=e();var c=e.adCreativeMetaData.adCreativeDetails;
null===c||void 0===c?void 0:c.sort(function(d,f){return d.adCreativeIndex<f.adCreativeIndex?-1:1});return fa(a,e,b.id)},ja=function(b,a,e,c,d){a.appendChild(b);"function"==typeof v.uet&&v.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});ba["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===e?"en-US":e}},{pl:c,deviceType:"desktop"}).then(function(f){return r.__awaiter(void 0,
void 0,void 0,function(){var g,k,n;return r.__generator(this,function(t){"function"==typeof v.uet&&v.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});v.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);g=z["default"].createElement("div");g.innerHTML=String(f.responseBody);for(k=0;k<g.children.length;++k)n=g.children[k],"SCRIPT"===n.tagName?G("script",n,a):"LINK"===n.tagName?G("link",n,a):G("div",n,a);a.removeChild(b);return[2]})})}).catch(function(){"function"==
typeof v.uet&&v.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});v.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);a.innerHTML=d});"function"==typeof v.uex&&v.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},G=function(b,a,e){var c=z["default"].createElement(b);c.innerHTML=a.innerHTML;a.getAttributeNames().forEach(function(d){c.setAttribute(d,a.getAttribute(d)||"")});e.appendChild(c)},M={},la=function(b,a){return r.__awaiter(void 0,
void 0,void 0,function(){var e,c,d,f,g,k,n,t,p,q,h;return r.__generator(this,function(u){e=B(b,"ad-feedback-primary-link");c=a().adFeedbackLabelId;d=K["default"].setup();f="open-modal"+c;g=a().adCreativeMetaData.adCreativeDetails;k=b.dataset;n=k.isDsaEnabled;t=k.weblabTreatment;p=k.closeButtonAriaText;q=k.adFeedbackTitle;h=String(n);"undefined"===h&&(h=g&&0<g.length?g[0].selectionSignals?"true":"false":"false");"true"===h&&"T1"!==t&&(h="false");d.attach(f,e);d.define(f,"click",function(){return r.__awaiter(void 0,
void 0,void 0,function(){var m;return r.__generator(this,function(x){switch(x.label){case 0:return(m=M[c])?[3,2]:[4,ha(c,b,a,p,q)];case 1:m=x.sent();var l=b.dataset,D=l.formHeaderText,H=l.dsaFormHeaderText;ka(m,l.adFeedbackPayload,a,l.currentLocale,"true"===h?H:D,l.formLoadErrorText);M[c]=m;x.label=2;case 2:return m.show(),[2]}})})});try{e.addEventListener("keydown",function(m){if(" "===m.key||"Enter"===m.key)m.preventDefault(),e.click()})}catch(m){console.log("Couldnt add keydown event listner")}return[2]})})},
ma=function(b,a){var e=K["default"].setup(),c="mouse-enter"+a;a="mouse-leave"+a;var d=B(b,"ad-feedback-primary-link"),f=B(b,"ad-feedback-text-desktop"),g=B(b,"ad-feedback-sprite");e.attach(c,d);e.define(c,"mouseenter",function(){g.style.backgroundPosition="0px -12px";f.style.color="#111111"});e.attach(a,d);e.define(a,"mouseleave",function(){g.style.backgroundPosition="0px 0px";f.style.color="#555"})},na=function(b){return r.__awaiter(void 0,void 0,void 0,function(){var a,e,c,d;return r.__generator(this,
function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),a=b(),e=A["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+a.adFeedbackLabelId)[0],c=e.dataset.isSponsoredLabelActive,"false"===(c||"false").toLowerCase()?[2]:[4,ma(e,a.adFeedbackLabelId)];case 1:return f.sent(),[4,la(e,b)];case 2:return f.sent(),[3,4];case 3:throw d=f.sent(),v.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+d);case 4:return[2]}})})},
N=function(b){if(0>=b)return"00:00";var a=Math.floor(b/36E5);b=[Math.floor(b/6E4%60),Math.floor(b/1E3%60)];0<a&&b.unshift(a);return b.map(oa).join(":")},oa=function(b){return 9<b?String(b):"0"+b},pa=function(b){Array.prototype.slice.call(b.getElementsByClassName("_sp-rhf-desktop-carousel_badge_badgeContainer__1e9Au")).forEach(function(a){var e,c,d,f,g=32<(null!==(c=null===(e=null===a||void 0===a?void 0:a.getBoundingClientRect())||void 0===e?void 0:e.height)&&void 0!==c?c:0)?"_sp-rhf-desktop-carousel_badge_badgeTwoLineContainer__29ThM":
"_sp-rhf-desktop-carousel_badge_badgeOneLineContainer__YS-on";null===(d=null===a||void 0===a?void 0:a.classList)||void 0===d?void 0:d.remove("_sp-rhf-desktop-carousel_badge_badgeLayoutCheck__3kGne");null===(f=null===a||void 0===a?void 0:a.classList)||void 0===f?void 0:f.add(g)})},ra=function(b){Array.prototype.slice.call(b.getElementsByClassName("badge-countdown-timer")).forEach(function(a){void 0!=a&&void 0!=a.innerHTML&&0==a.innerHTML.length&&(new qa(a)).start()})},qa=function(){function b(a){this.timerElement=
a;this.msToEvent=parseInt(a.dataset.targetTime,10);this.timerElement.innerText=N(this.msToEvent)}b.prototype.start=function(){var a=this;isNaN(this.msToEvent)||(this.counterStartTime=Date.now(),this.counterInterval=T.interval(function(){return a.updateTime()},500))};b.prototype.updateTime=function(){var a=Date.now()-this.counterStartTime;0>=this.msToEvent-a&&clearInterval(this.counterInterval);this.timerElement.innerText=N(this.msToEvent-a)};return b}();I._operationNames=["getCarouselItems","addToCart"];
I.card=function(b){return r.__awaiter(void 0,void 0,void 0,function(){var a,e,c,d,f,g,k,n,t,p;return r.__generator(this,function(q){switch(q.label){case 0:return ea(),a=A["default"].cardRoot.getElementsByClassName("sp-shoveler")[0],e=Y["default"].setup(["getCarouselItems"]),c=Z["default"].getCarousel(J.unscope(a)),d=X["default"].getCarousel(a),f=a.dataset||{},g=c.getAttr("name"),k=function(){w["default"].loadDynamicImage("[data-name]='"+g+"' .sp-dynamic-image");null===b||void 0===b?void 0:b(a);pa(A["default"].cardRoot);
ra(A["default"].cardRoot)},[4,d.initialized];case 1:q.sent();w["default"].on("a:carousel:"+g+":change:pageSize",k);w["default"].on("a:carousel:"+g+":change:loading",k);w["default"].on("a:carousel:"+g+":change:animating",k);k();d.attachRemoteOperation(function(h){var u=h.indexes;h=h.ids;return e.getCarouselItems(r.__assign(r.__assign({},f),{ids:h,indexes:u,offset:String(u[0]||0)}))});n=A["default"].cardRoot.getElementsByClassName("dynamicSponsoredLabelClass")[0];if(!n)return[2];t=n.dataset.adFeedbackLabelId;
if(!t)return[2];p=function(){for(var h=A["default"].cardRoot.querySelector("[class*='a-carousel-viewport']").childNodes[0],u=[],m=0;m<h.childNodes.length;++m){var x=h.childNodes[m].querySelector("[id='adfeedbackdetails']");if(x&&(x=x.getAttribute("data-adfeedbackdetails")))try{u.push(JSON.parse(x))}catch(Aa){}}h=t;m=[];for(x=0;x<u.length;++x){var l=u[x],D=m,H=D.push,sa=l.asinId,ta=l.campaignId,ua=l.encryptedMerchantId,va={amount:l.priceAmount,currencyCode:l.currenyCode},wa=l.title,xa=l.adId,ya=x,
za={lowResolutionImage:{url:l.lowResImage,width:0,height:0},highResolutionImages:[{url:l.highResImage,width:0,height:0}]};var E=l.advertiserId;var C=l.marketplaceId;E=E&&C?"axiom."+C+"."+E:void 0;C=l.isLocationUsed;l=l.isInterestBasedAdsOptOut;l=void 0!==C&&void 0!==l?{version:1,context:!0,location:C,pastActivity:l?0:1}:void 0;H.call(D,{asin:sa,campaignId:ta,merchantCustomerID:ua,priceInfo:va,title:wa,adId:xa,adCreativeIndex:ya,adCreativeImage:za,advertiserIdNS:E,selectionSignals:l})}u={adCreativeMetaData:{adCreativeDetails:m},
adFeedbackLabelId:h};return u};return[4,na(p)];case 2:return q.sent(),[2]}})})}});
